/*******************************************************************************
 * User information
 * 
 * License: BSL-1.0
 */
module bsky.user;

import std.json: JSONValue;
import std.datetime: SysTime;
import bsky._internal;
import bsky.data;


/*******************************************************************************
 * User information
 */
struct User
{
	
	/***************************************************************************
	 * 
	 */
	string did;
	
	/***************************************************************************
	 * 
	 */
	string handle;
	
	/***************************************************************************
	 * 
	 */
	string displayName;
	
	/***************************************************************************
	 * 
	 */
	string description;
	
	/***************************************************************************
	 * 
	 */
	string avatar;
	
	/***************************************************************************
	 * 
	 */
	@systimeConverter
	SysTime indexedAt;
	
	/***************************************************************************
	 * 
	 */
	@systimeConverter
	SysTime createdAt;
	
	/***************************************************************************
	 * 
	 */
	struct Viewer
	{
		/***********************************************************************
		 * 
		 */
		bool muted;
		/***********************************************************************
		 * 
		 */
		struct ByList
		{
			/*******************************************************************
			 * 
			 */
			string uri;
			/*******************************************************************
			 * 
			 */
			string cid;
			/*******************************************************************
			 * 
			 */
			string name;
			/*******************************************************************
			 * 
			 */
			JSONValue purpose;
			/*******************************************************************
			 * 
			 */
			string avatar;
			/*******************************************************************
			 * 
			 */
			Label[] labels;
			/*******************************************************************
			 * 
			 */
			struct Viewer
			{
				/***************************************************************
				 * 
				 */
				bool muted;
				/***************************************************************
				 * 
				 */
				bool blocked;
			}
			/// ditto
			Viewer viewer;
			/*******************************************************************
			 * 
			 */
			@systimeConverter
			SysTime indexedAt;
		}
		/***********************************************************************
		 * 
		 */
		ByList mutedByList;
		/***********************************************************************
		 * 
		 */
		bool blockedBy;
		/***********************************************************************
		 * 
		 */
		bool blocking;
		/***********************************************************************
		 * 
		 */
		string following;
		/***********************************************************************
		 * 
		 */
		string followedBy;
	}
	
	/// ditto
	Viewer viewer;
	
	/// ditto
	Label[] labels;
	
	
}


/*******************************************************************************
 * User profile information
 */
struct Profile
{
	/***************************************************************************
	 * 
	 */
	string did;
	
	/***************************************************************************
	 * 
	 */
	string handle;
	
	/***************************************************************************
	 * 
	 */
	string displayName;
	
	/***************************************************************************
	 * 
	 */
	string description;
	
	/***************************************************************************
	 * 
	 */
	string avatar;
	
	/***************************************************************************
	 * 
	 */
	string banner;
	
	/***************************************************************************
	 * 
	 */
	size_t followersCount;
	
	/***************************************************************************
	 * 
	 */
	size_t followsCount;
	
	/***************************************************************************
	 * 
	 */
	size_t postsCount;
	
	/***************************************************************************
	 * 
	 */
	struct Associated
	{
		/***********************************************************************
		 * 
		 */
		long lists;
		/***********************************************************************
		 * 
		 */
		long feedgens;
		/***********************************************************************
		 * 
		 */
		bool labeler;
	}
	/// ditto
	Associated associated;
	
	/***************************************************************************
	 * 
	 */
	@systimeConverter
	SysTime indexedAt;
	
	/***************************************************************************
	 * 
	 */
	User.Viewer viewer;
	
	/***************************************************************************
	 * 
	 */
	Label[] labels;
}
